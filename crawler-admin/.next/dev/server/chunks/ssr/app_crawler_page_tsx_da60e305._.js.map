{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/arumaldo/KnowledgeReset/KnowledgeReset/crawler-admin/app/crawler/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { graphql, GET_APPLICATIONS, GET_CRAWL_JOBS, Application, CrawlJob } from '@/lib/api';\nimport Link from 'next/link';\nimport { Button } from '@/components/ui/button';\n\nexport default function CrawlerDashboard() {\n    const [stats, setStats] = useState({\n        totalApplications: 0,\n        totalJobs: 0,\n        runningJobs: 0,\n    });\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        loadStats();\n    }, []);\n\n    const loadStats = async () => {\n        try {\n            const [appsData, jobsData] = await Promise.all([\n                graphql.request<{ applications: Application[] }>(GET_APPLICATIONS),\n                graphql.request<{ crawlJobs: CrawlJob[] }>(GET_CRAWL_JOBS, { limit: 100 }),\n            ]);\n\n            setStats({\n                totalApplications: appsData.applications.length,\n                totalJobs: jobsData.crawlJobs.length,\n                runningJobs: jobsData.crawlJobs.filter(j => j.status === 'running').length,\n            });\n        } catch (error) {\n            console.error('Failed to load stats:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const navigationCards = [\n        {\n            title: 'Applications',\n            description: 'Manage documentation sites and knowledge bases',\n            icon: 'üìö',\n            href: '/crawler/applications',\n            stat: `${stats.totalApplications} apps`,\n        },\n        {\n            title: 'Crawl Jobs',\n            description: 'Monitor crawl job status and history',\n            icon: 'üîÑ',\n            href: '/crawler/jobs',\n            stat: `${stats.runningJobs} running`,\n        },\n        {\n            title: 'Users',\n            description: 'Manage system users and permissions',\n            icon: 'üë•',\n            href: '/crawler/users',\n            stat: 'User management',\n        },\n        {\n            title: 'Settings',\n            description: 'Configure crawler behavior and limits',\n            icon: '‚öôÔ∏è',\n            href: '/crawler/settings',\n            stat: 'Configuration',\n        },\n    ];\n\n    return (\n        <div className=\"container mx-auto py-6\">\n            <div className=\"flex flex-col gap-6\">\n                {/* Page Header */}\n                <div className=\"flex flex-col justify-center gap-2\">\n                    <h1 className=\"text-2xl font-semibold leading-none text-gray-900\">\n                        Crawler Management\n                    </h1>\n                    <p className=\"text-md text-gray-600\">\n                        Manage documentation crawling and knowledge base indexing\n                    </p>\n                </div>\n\n                {/* Stats Cards */}\n                {!loading && (\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                        <div className=\"card\">\n                            <div className=\"card-body\">\n                                <div className=\"flex items-center justify-between\">\n                                    <div>\n                                        <p className=\"text-sm text-gray-600\">Total Applications</p>\n                                        <p className=\"text-2xl font-semibold text-gray-900\">{stats.totalApplications}</p>\n                                    </div>\n                                    <div className=\"text-3xl\">üìö</div>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"card\">\n                            <div className=\"card-body\">\n                                <div className=\"flex items-center justify-between\">\n                                    <div>\n                                        <p className=\"text-sm text-gray-600\">Total Crawl Jobs</p>\n                                        <p className=\"text-2xl font-semibold text-gray-900\">{stats.totalJobs}</p>\n                                    </div>\n                                    <div className=\"text-3xl\">üîÑ</div>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"card\">\n                            <div className=\"card-body\">\n                                <div className=\"flex items-center justify-between\">\n                                    <div>\n                                        <p className=\"text-sm text-gray-600\">Running Jobs</p>\n                                        <p className=\"text-2xl font-semibold text-gray-900\">{stats.runningJobs}</p>\n                                    </div>\n                                    <div className=\"text-3xl\">‚ñ∂Ô∏è</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {/* Navigation Cards */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    {navigationCards.map((card) => (\n                        <Link key={card.href} href={card.href}>\n                            <div className=\"card hover:shadow-lg transition-shadow cursor-pointer h-full\">\n                                <div className=\"card-body\">\n                                    <div className=\"flex items-start gap-4\">\n                                        <div className=\"text-4xl\">{card.icon}</div>\n                                        <div className=\"flex-1\">\n                                            <h3 className=\"text-lg font-semibold text-gray-900 mb-1\">\n                                                {card.title}\n                                            </h3>\n                                            <p className=\"text-sm text-gray-600 mb-2\">\n                                                {card.description}\n                                            </p>\n                                            <p className=\"text-xs text-gray-500\">\n                                                {card.stat}\n                                            </p>\n                                        </div>\n                                        <div className=\"text-gray-400\">‚Üí</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </Link>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}