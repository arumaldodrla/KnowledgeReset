{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/arumaldo/KnowledgeReset/KnowledgeReset/crawler-admin/lib/api.ts"],"sourcesContent":["import { GraphQLClient } from 'graphql-request';\nimport { createClient } from '@supabase/supabase-js';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL!;\nconst SUPABASE_URL = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst SUPABASE_KEY = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nexport const supabase = createClient(SUPABASE_URL, SUPABASE_KEY);\n\nexport const graphql = {\n  request: async <T>(query: string, variables?: any) => {\n    const { data: { session } } = await supabase.auth.getSession();\n    const headers: Record<string, string> = {};\n\n    if (session?.access_token) {\n      headers['Authorization'] = `Bearer ${session.access_token}`;\n    }\n\n    const client = new GraphQLClient(API_URL, { headers });\n    return client.request<T>(query, variables);\n  }\n};\n\n// Create Application\nexport const CREATE_APPLICATION = `\n  mutation CreateApplication($input: CreateApplicationInput!) {\n    createApplication(input: $input) {\n      id\n      name\n      urlDocBase\n      description\n    }\n  }\n`;\n\n// List Applications\nexport const GET_APPLICATIONS = `\n  query GetApplications {\n    applications {\n      id\n      name\n      urlDocBase\n      description\n      status\n      createdAt\n    }\n  }\n`;\n\n// Start Crawl Job\nexport const START_CRAWL = `\n  mutation StartCrawl($input: StartCrawlInput!) {\n    startCrawl(input: $input) {\n      jobId\n      status\n      message\n    }\n  }\n`;\n\n// Get Crawl Jobs  \nexport const GET_CRAWL_JOBS = `\n  query GetCrawlJobs($appId: ID, $limit: Int) {\n    crawlJobs(appId: $appId, limit: $limit) {\n      id\n      appId\n      status\n      startTime\n      endTime\n      pagesProcessed\n      errors {\n        id\n        errorMessage\n        url\n      }\n    }\n  }\n`;\n\nexport interface Application {\n  id: string;\n  name: string;\n  urlDocBase: string;\n  description?: string;\n  status?: string;\n  createdAt?: string;\n}\n\nexport interface CrawlJob {\n  id: string;\n  appId: string;\n  status: string;\n  startTime: string;\n  endTime?: string;\n  pagesProcessed?: number;\n  errors?: Array<{\n    id: string;\n    errorMessage: string;\n    url: string;\n  }>;\n}\n\nexport interface CreateUserInput {\n  email: string;\n  password: string;\n  fullName?: string;\n}\n\nexport const CREATE_USER = `\n    mutation CreateUser($input: CreateUserInput!) {\n        createUser(input: $input) {\n            id\n            email\n            createdAt\n        }\n    }\n`;\n\nexport interface User {\n  id: string;\n  email: string;\n  createdAt: string;\n  lastSignInAt?: string;\n}\n\nexport const GET_USERS = `\n    query GetUsers {\n        users {\n            id\n            email\n            createdAt\n            lastSignInAt\n        }\n    }\n`;\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAGgB;AAHhB;AAAA;AACA;;;AAEA,MAAM;AACN,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,iMAAY,EAAC,cAAc;AAE5C,MAAM,UAAU;IACrB,SAAS,OAAU,OAAe;QAChC,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU;QAC5D,MAAM,UAAkC,CAAC;QAEzC,IAAI,SAAS,cAAc;YACzB,OAAO,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,QAAQ,YAAY,EAAE;QAC7D;QAEA,MAAM,SAAS,IAAI,qMAAa,CAAC,SAAS;YAAE;QAAQ;QACpD,OAAO,OAAO,OAAO,CAAI,OAAO;IAClC;AACF;AAGO,MAAM,qBAAqB,CAAC;;;;;;;;;AASnC,CAAC;AAGM,MAAM,mBAAmB,CAAC;;;;;;;;;;;AAWjC,CAAC;AAGM,MAAM,cAAc,CAAC;;;;;;;;AAQ5B,CAAC;AAGM,MAAM,iBAAiB,CAAC;;;;;;;;;;;;;;;;AAgB/B,CAAC;AA+BM,MAAM,cAAc,CAAC;;;;;;;;AAQ5B,CAAC;AASM,MAAM,YAAY,CAAC;;;;;;;;;AAS1B,CAAC"}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file:///Users/arumaldo/KnowledgeReset/KnowledgeReset/crawler-admin/app/crawler/layout.tsx"],"sourcesContent":["'use client';\n\n\n\nimport { useRouter } from 'next/navigation';\nimport { supabase } from '@/lib/api';\n\nexport default function CrawlerLayout({ children }: { children: ReactNode }) {\n    const router = useRouter();\n    const [isLoading, setIsLoading] = useState(true);\n\n    useEffect(() => {\n        const checkAuth = async () => {\n            const { data: { session } } = await supabase.auth.getSession();\n            if (!session) {\n                router.push('/auth/login');\n            } else {\n                setIsLoading(false);\n            }\n        };\n        checkAuth();\n    }, [router]);\n\n    if (isLoading) {\n        return (\n            <div className=\"flex h-screen items-center justify-center\">\n                <div className=\"flex flex-col items-center gap-2\">\n                    <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent\"></div>\n                    <p className=\"text-sm text-gray-500\">Loading...</p>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <SimpleLayout>\n            {children}\n        </SimpleLayout>\n    );\n}\n"],"names":[],"mappings":";;;;;AAIA;AACA;;;AALA;;;AAOe,SAAS,cAAc,EAAE,QAAQ,EAA2B;;IACvE,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,WAAW,aAAa,GAAG,SAAS;IAE3C;mCAAU;YACN,MAAM;qDAAY;oBACd,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,GAAG,MAAM,yHAAQ,CAAC,IAAI,CAAC,UAAU;oBAC5D,IAAI,CAAC,SAAS;wBACV,OAAO,IAAI,CAAC;oBAChB,OAAO;wBACH,aAAa;oBACjB;gBACJ;;YACA;QACJ;kCAAG;QAAC;KAAO;IAEX,IAAI,WAAW;QACX,qBACI,6LAAC;YAAI,WAAU;sBACX,cAAA,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;;;;;;IAIrD;IAEA,qBACI,6LAAC;kBACI;;;;;;AAGb;GAhCwB;;QACL,kJAAS;;;KADJ"}}]
}