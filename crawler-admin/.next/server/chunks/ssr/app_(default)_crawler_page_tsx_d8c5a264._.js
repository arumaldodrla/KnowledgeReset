module.exports=[923144,a=>{"use strict";var b,c,d,e,f,g,h,i,j=a.i(187924),k=a.i(572131);class l extends Error{response;request;constructor(a,b){super(`${l.extractMessage(a)}: ${JSON.stringify({response:a,request:b})}`),Object.setPrototypeOf(this,l.prototype),this.response=a,this.request=b,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,l)}static extractMessage(a){return a.errors?.[0]?.message??`GraphQL Error (Code: ${String(a.status)})`}}let m=a=>"function"==typeof a?a():a,n=(a,b)=>a.map((a,c)=>[a,b[c]]),o=a=>{let b={};return a instanceof Headers?b=p(a):Array.isArray(a)?a.forEach(([a,c])=>{a&&void 0!==c&&(b[a]=c)}):a&&(b=a),b},p=a=>{let b={};return a.forEach((a,c)=>{b[c]=a}),b},q=a=>a instanceof Error?a:Error(String(a)),r=a=>{throw Error(`Unhandled case: ${String(a)}`)},s=a=>"object"==typeof a&&null!==a&&!Array.isArray(a);(b=f||(f={})).NAME="Name",b.DOCUMENT="Document",b.OPERATION_DEFINITION="OperationDefinition",b.VARIABLE_DEFINITION="VariableDefinition",b.SELECTION_SET="SelectionSet",b.FIELD="Field",b.ARGUMENT="Argument",b.FRAGMENT_SPREAD="FragmentSpread",b.INLINE_FRAGMENT="InlineFragment",b.FRAGMENT_DEFINITION="FragmentDefinition",b.VARIABLE="Variable",b.INT="IntValue",b.FLOAT="FloatValue",b.STRING="StringValue",b.BOOLEAN="BooleanValue",b.NULL="NullValue",b.ENUM="EnumValue",b.LIST="ListValue",b.OBJECT="ObjectValue",b.OBJECT_FIELD="ObjectField",b.DIRECTIVE="Directive",b.NAMED_TYPE="NamedType",b.LIST_TYPE="ListType",b.NON_NULL_TYPE="NonNullType",b.SCHEMA_DEFINITION="SchemaDefinition",b.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",b.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",b.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",b.FIELD_DEFINITION="FieldDefinition",b.INPUT_VALUE_DEFINITION="InputValueDefinition",b.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",b.UNION_TYPE_DEFINITION="UnionTypeDefinition",b.ENUM_TYPE_DEFINITION="EnumTypeDefinition",b.ENUM_VALUE_DEFINITION="EnumValueDefinition",b.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",b.DIRECTIVE_DEFINITION="DirectiveDefinition",b.SCHEMA_EXTENSION="SchemaExtension",b.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",b.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",b.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",b.UNION_TYPE_EXTENSION="UnionTypeExtension",b.ENUM_TYPE_EXTENSION="EnumTypeExtension",b.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",b.TYPE_COORDINATE="TypeCoordinate",b.MEMBER_COORDINATE="MemberCoordinate",b.ARGUMENT_COORDINATE="ArgumentCoordinate",b.DIRECTIVE_COORDINATE="DirectiveCoordinate",b.DIRECTIVE_ARGUMENT_COORDINATE="DirectiveArgumentCoordinate";let t="Accept",u="Content-Type",v="application/json",w="application/graphql-response+json",x=a=>a.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),y=a=>{try{if(Array.isArray(a))return{_tag:"Batch",executionResults:a.map(z)};if(s(a))return{_tag:"Single",executionResult:z(a)};throw Error(`Invalid execution result: result is not object or array. 
Got:
${String(a)}`)}catch(a){return a}},z=a=>{let b,c,d;if("object"!=typeof a||null===a)throw Error("Invalid execution result: result is not object");if("errors"in a){if(!s(a.errors)&&!Array.isArray(a.errors))throw Error("Invalid execution result: errors is not plain object OR array");b=a.errors}if("data"in a){if(!s(a.data)&&null!==a.data)throw Error("Invalid execution result: data is not plain object");c=a.data}if("extensions"in a){if(!s(a.extensions))throw Error("Invalid execution result: extensions is not plain object");d=a.extensions}return{data:c,errors:b,extensions:d}},A=a=>Array.isArray(a.errors)?a.errors.length>0:!!a.errors,B=a=>"object"==typeof a&&null!==a&&"kind"in a&&a.kind===f.OPERATION_DEFINITION,C=/\r\n|[\n\r]/g;function D(a,b){let c=0,d=1;for(let e of a.body.matchAll(C)){if("number"==typeof e.index||function(a,b){if(!a)throw Error("Unexpected invariant triggered.")}(!1),e.index>=b)break;c=e.index+e[0].length,d+=1}return{line:d,column:b+1-c}}function E(a,b){let c=a.locationOffset.column-1,d="".padStart(c)+a.body,e=b.line-1,f=a.locationOffset.line-1,g=b.line+f,h=1===b.line?c:0,i=b.column+h,j=`${a.name}:${g}:${i}
`,k=d.split(/\r\n|[\n\r]/g),l=k[e];if(l.length>120){let a=Math.floor(i/80),b=[];for(let a=0;a<l.length;a+=80)b.push(l.slice(a,a+80));return j+F([[`${g} |`,b[0]],...b.slice(1,a+1).map(a=>["|",a]),["|","^".padStart(i%80)],["|",b[a+1]]])}return j+F([[`${g-1} |`,k[e-1]],[`${g} |`,l],["|","^".padStart(i)],[`${g+1} |`,k[e+1]]])}function F(a){let b=a.filter(([a,b])=>void 0!==b),c=Math.max(...b.map(([a])=>a.length));return b.map(([a,b])=>a.padStart(c)+(b?" "+b:"")).join("\n")}class G extends Error{constructor(a,...b){var c,d,e;const{nodes:f,source:g,positions:h,path:i,originalError:j,extensions:k}=function(a){let b=a[0];return null==b||"kind"in b||"length"in b?{nodes:b,source:a[1],positions:a[2],path:a[3],originalError:a[4],extensions:a[5]}:b}(b);super(a),this.name="GraphQLError",this.path=null!=i?i:void 0,this.originalError=null!=j?j:void 0,this.nodes=H(Array.isArray(f)?f:f?[f]:void 0);const l=H(null==(c=this.nodes)?void 0:c.map(a=>a.loc).filter(a=>null!=a));this.source=null!=g?g:null==l||null==(d=l[0])?void 0:d.source,this.positions=null!=h?h:null==l?void 0:l.map(a=>a.start),this.locations=h&&g?h.map(a=>D(g,a)):null==l?void 0:l.map(a=>D(a.source,a.start));const m=!function(a){return"object"==typeof a&&null!==a}(null==j?void 0:j.extensions)||null==j?void 0:j.extensions;this.extensions=null!=(e=null!=k?k:m)?e:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=j&&j.stack?Object.defineProperty(this,"stack",{value:j.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,G):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let a=this.message;if(this.nodes)for(let c of this.nodes){var b;c.loc&&(a+="\n\n"+E((b=c.loc).source,D(b.source,b.start)))}else if(this.source&&this.locations)for(let b of this.locations)a+="\n\n"+E(this.source,b);return a}toJSON(){let a={message:this.message};return null!=this.locations&&(a.locations=this.locations),null!=this.path&&(a.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(a.extensions=this.extensions),a}}function H(a){return void 0===a||0===a.length?void 0:a}function I(a,b,c){return new G(`Syntax Error: ${c}`,{source:a,positions:[b]})}class J{constructor(a,b,c){this.start=a.start,this.end=b.end,this.startToken=a,this.endToken=b,this.source=c}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class K{constructor(a,b,c,d,e,f){this.kind=a,this.start=b,this.end=c,this.line=d,this.column=e,this.value=f,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}let L={Name:[],Document:["definitions"],OperationDefinition:["description","name","variableDefinitions","directives","selectionSet"],VariableDefinition:["description","variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["description","name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"],TypeCoordinate:["name"],MemberCoordinate:["name","memberName"],ArgumentCoordinate:["name","fieldName","argumentName"],DirectiveCoordinate:["name"],DirectiveArgumentCoordinate:["name","argumentName"]},M=new Set(Object.keys(L));function N(a){let b=null==a?void 0:a.kind;return"string"==typeof b&&M.has(b)}function O(a){return 9===a||32===a}function P(a){return a>=48&&a<=57}function Q(a){return a>=97&&a<=122||a>=65&&a<=90}function R(a){return Q(a)||95===a}(c=g||(g={})).QUERY="query",c.MUTATION="mutation",c.SUBSCRIPTION="subscription",(d=h||(h={})).QUERY="QUERY",d.MUTATION="MUTATION",d.SUBSCRIPTION="SUBSCRIPTION",d.FIELD="FIELD",d.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",d.FRAGMENT_SPREAD="FRAGMENT_SPREAD",d.INLINE_FRAGMENT="INLINE_FRAGMENT",d.VARIABLE_DEFINITION="VARIABLE_DEFINITION",d.SCHEMA="SCHEMA",d.SCALAR="SCALAR",d.OBJECT="OBJECT",d.FIELD_DEFINITION="FIELD_DEFINITION",d.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",d.INTERFACE="INTERFACE",d.UNION="UNION",d.ENUM="ENUM",d.ENUM_VALUE="ENUM_VALUE",d.INPUT_OBJECT="INPUT_OBJECT",d.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION",(e=i||(i={})).SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.DOT=".",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment";class S{constructor(a){const b=new K(i.SOF,0,0,0,0);this.source=a,this.lastToken=b,this.token=b,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let a=this.token;if(a.kind!==i.EOF)do if(a.next)a=a.next;else{let b=function(a,b){let c=a.source.body,d=c.length,e=b;for(;e<d;){let b=c.charCodeAt(e);switch(b){case 65279:case 9:case 32:case 44:++e;continue;case 10:++e,++a.line,a.lineStart=e;continue;case 13:10===c.charCodeAt(e+1)?e+=2:++e,++a.line,a.lineStart=e;continue;case 35:return function(a,b){let c=a.source.body,d=c.length,e=b+1;for(;e<d;){let a=c.charCodeAt(e);if(10===a||13===a)break;if(T(a))++e;else if(U(c,e))e+=2;else break}return Y(a,i.COMMENT,b,e,c.slice(b+1,e))}(a,e);case 33:return Y(a,i.BANG,e,e+1);case 36:return Y(a,i.DOLLAR,e,e+1);case 38:return Y(a,i.AMP,e,e+1);case 40:return Y(a,i.PAREN_L,e,e+1);case 41:return Y(a,i.PAREN_R,e,e+1);case 46:if(46===c.charCodeAt(e+1)&&46===c.charCodeAt(e+2))return Y(a,i.SPREAD,e,e+3);break;case 58:return Y(a,i.COLON,e,e+1);case 61:return Y(a,i.EQUALS,e,e+1);case 64:return Y(a,i.AT,e,e+1);case 91:return Y(a,i.BRACKET_L,e,e+1);case 93:return Y(a,i.BRACKET_R,e,e+1);case 123:return Y(a,i.BRACE_L,e,e+1);case 124:return Y(a,i.PIPE,e,e+1);case 125:return Y(a,i.BRACE_R,e,e+1);case 34:if(34===c.charCodeAt(e+1)&&34===c.charCodeAt(e+2))return function(a,b){let c=a.source.body,d=c.length,e=a.lineStart,f=b+3,g=f,h="",j=[];for(;f<d;){let d=c.charCodeAt(f);if(34===d&&34===c.charCodeAt(f+1)&&34===c.charCodeAt(f+2)){h+=c.slice(g,f),j.push(h);let d=Y(a,i.BLOCK_STRING,b,f+3,(function(a){var b,c;let d=Number.MAX_SAFE_INTEGER,e=null,f=-1;for(let b=0;b<a.length;++b){let g=a[b],h=function(a){let b=0;for(;b<a.length&&O(a.charCodeAt(b));)++b;return b}(g);h!==g.length&&(e=null!=(c=e)?c:b,f=b,0!==b&&h<d&&(d=h))}return a.map((a,b)=>0===b?a:a.slice(d)).slice(null!=(b=e)?b:0,f+1)})(j).join("\n"));return a.line+=j.length-1,a.lineStart=e,d}if(92===d&&34===c.charCodeAt(f+1)&&34===c.charCodeAt(f+2)&&34===c.charCodeAt(f+3)){h+=c.slice(g,f),g=f+1,f+=4;continue}if(10===d||13===d){h+=c.slice(g,f),j.push(h),13===d&&10===c.charCodeAt(f+1)?f+=2:++f,h="",g=f,e=f;continue}if(T(d))++f;else if(U(c,f))f+=2;else throw I(a.source,f,`Invalid character within String: ${X(a,f)}.`)}throw I(a.source,f,"Unterminated string.")}(a,e);return function(a,b){let c=a.source.body,d=c.length,e=b+1,f=e,g="";for(;e<d;){let d=c.charCodeAt(e);if(34===d)return g+=c.slice(f,e),Y(a,i.STRING,b,e+1,g);if(92===d){g+=c.slice(f,e);let b=117===c.charCodeAt(e+1)?123===c.charCodeAt(e+2)?function(a,b){let c=a.source.body,d=0,e=3;for(;e<12;){let a=c.charCodeAt(b+e++);if(125===a){if(e<5||!T(d))break;return{value:String.fromCodePoint(d),size:e}}if((d=d<<4|_(a))<0)break}throw I(a.source,b,`Invalid Unicode escape sequence: "${c.slice(b,b+e)}".`)}(a,e):function(a,b){let c=a.source.body,d=$(c,b+2);if(T(d))return{value:String.fromCodePoint(d),size:6};if(V(d)&&92===c.charCodeAt(b+6)&&117===c.charCodeAt(b+7)){let a=$(c,b+8);if(W(a))return{value:String.fromCodePoint(d,a),size:12}}throw I(a.source,b,`Invalid Unicode escape sequence: "${c.slice(b,b+6)}".`)}(a,e):function(a,b){let c=a.source.body;switch(c.charCodeAt(b+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw I(a.source,b,`Invalid character escape sequence: "${c.slice(b,b+2)}".`)}(a,e);g+=b.value,e+=b.size,f=e;continue}if(10===d||13===d)break;if(T(d))++e;else if(U(c,e))e+=2;else throw I(a.source,e,`Invalid character within String: ${X(a,e)}.`)}throw I(a.source,e,"Unterminated string.")}(a,e)}if(P(b)||45===b)return function(a,b,c){let d=a.source.body,e=b,f=c,g=!1;if(45===f&&(f=d.charCodeAt(++e)),48===f){if(P(f=d.charCodeAt(++e)))throw I(a.source,e,`Invalid number, unexpected digit after 0: ${X(a,e)}.`)}else e=Z(a,e,f),f=d.charCodeAt(e);if(46===f&&(g=!0,f=d.charCodeAt(++e),e=Z(a,e,f),f=d.charCodeAt(e)),(69===f||101===f)&&(g=!0,(43===(f=d.charCodeAt(++e))||45===f)&&(f=d.charCodeAt(++e)),e=Z(a,e,f),f=d.charCodeAt(e)),46===f||R(f))throw I(a.source,e,`Invalid number, expected digit but got: ${X(a,e)}.`);return Y(a,g?i.FLOAT:i.INT,b,e,d.slice(b,e))}(a,e,b);if(R(b))return function(a,b){let c=a.source.body,d=c.length,e=b+1;for(;e<d;){var f;if(Q(f=c.charCodeAt(e))||P(f)||95===f)++e;else break}return Y(a,i.NAME,b,e,c.slice(b,e))}(a,e);throw I(a.source,e,39===b?"Unexpected single quote character ('), did you mean to use a double quote (\")?":T(b)||U(c,e)?`Unexpected character: ${X(a,e)}.`:`Invalid character: ${X(a,e)}.`)}return Y(a,i.EOF,d,d)}(this,a.end);a.next=b,b.prev=a,a=b}while(a.kind===i.COMMENT)return a}}function T(a){return a>=0&&a<=55295||a>=57344&&a<=1114111}function U(a,b){return V(a.charCodeAt(b))&&W(a.charCodeAt(b+1))}function V(a){return a>=55296&&a<=56319}function W(a){return a>=56320&&a<=57343}function X(a,b){let c=a.source.body.codePointAt(b);if(void 0===c)return i.EOF;if(c>=32&&c<=126){let a=String.fromCodePoint(c);return'"'===a?"'\"'":`"${a}"`}return"U+"+c.toString(16).toUpperCase().padStart(4,"0")}function Y(a,b,c,d,e){let f=a.line,g=1+c-a.lineStart;return new K(b,c,d,f,g,e)}function Z(a,b,c){if(!P(c))throw I(a.source,b,`Invalid number, expected digit but got: ${X(a,b)}.`);let d=a.source.body,e=b+1;for(;P(d.charCodeAt(e));)++e;return e}function $(a,b){return _(a.charCodeAt(b))<<12|_(a.charCodeAt(b+1))<<8|_(a.charCodeAt(b+2))<<4|_(a.charCodeAt(b+3))}function _(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:-1}function aa(a,b){if(!a)throw Error(b)}function ab(a,b){switch(typeof a){case"string":return JSON.stringify(a);case"function":return a.name?`[function ${a.name}]`:"[function]";case"object":return function(a,b){let c;if(null===a)return"null";if(b.includes(a))return"[Circular]";let d=[...b,a];if("function"==typeof a.toJSON){let b=a.toJSON();if(b!==a)return"string"==typeof b?b:ab(b,d)}else if(Array.isArray(a)){var e,f,g=a,h=d;if(0===g.length)return"[]";if(h.length>2)return"[Array]";let b=Math.min(10,g.length),c=g.length-b,i=[];for(let a=0;a<b;++a)i.push(ab(g[a],h));return 1===c?i.push("... 1 more item"):c>1&&i.push(`... ${c} more items`),"["+i.join(", ")+"]"}return e=a,f=d,0===(c=Object.entries(e)).length?"{}":f.length>2?"["+function(a){let b=Object.prototype.toString.call(a).replace(/^\[object /,"").replace(/]$/,"");if("Object"===b&&"function"==typeof a.constructor){let b=a.constructor.name;if("string"==typeof b&&""!==b)return b}return b}(e)+"]":"{ "+c.map(([a,b])=>a+": "+ab(b,f)).join(", ")+" }"}(a,b);default:return String(a)}}let ac=globalThis.process&&1?function(a,b){return a instanceof b}:function(a,b){if(a instanceof b)return!0;if("object"==typeof a&&null!==a){var c;let d=b.prototype[Symbol.toStringTag];if(d===(Symbol.toStringTag in a?a[Symbol.toStringTag]:null==(c=a.constructor)?void 0:c.name)){let b=ab(a,[]);throw Error(`Cannot use ${d} "${b}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class ad{constructor(a,b="GraphQL request",c={line:1,column:1}){"string"==typeof a||aa(!1,`Body must be a string. Received: ${ab(a,[])}.`),this.body=a,this.name=b,this.locationOffset=c,this.locationOffset.line>0||aa(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||aa(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}class ae{constructor(a,b={}){const{lexer:c,...d}=b;if(c)this._lexer=c;else{const b=ac(a,ad)?a:new ad(a);this._lexer=new S(b)}this._options=d,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){let a=this.expectToken(i.NAME);return this.node(a,{kind:f.NAME,value:a.value})}parseDocument(){return this.node(this._lexer.token,{kind:f.DOCUMENT,definitions:this.many(i.SOF,this.parseDefinition,i.EOF)})}parseDefinition(){if(this.peek(i.BRACE_L))return this.parseOperationDefinition();let a=this.peekDescription(),b=a?this._lexer.lookahead():this._lexer.token;if(a&&b.kind===i.BRACE_L)throw I(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are not supported on shorthand queries.");if(b.kind===i.NAME){switch(b.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}switch(b.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition()}if(a)throw I(this._lexer.source,this._lexer.token.start,"Unexpected description, only GraphQL definitions support descriptions.");if("extend"===b.value)return this.parseTypeSystemExtension()}throw this.unexpected(b)}parseOperationDefinition(){let a,b=this._lexer.token;if(this.peek(i.BRACE_L))return this.node(b,{kind:f.OPERATION_DEFINITION,operation:g.QUERY,description:void 0,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});let c=this.parseDescription(),d=this.parseOperationType();return this.peek(i.NAME)&&(a=this.parseName()),this.node(b,{kind:f.OPERATION_DEFINITION,operation:d,description:c,name:a,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){let a=this.expectToken(i.NAME);switch(a.value){case"query":return g.QUERY;case"mutation":return g.MUTATION;case"subscription":return g.SUBSCRIPTION}throw this.unexpected(a)}parseVariableDefinitions(){return this.optionalMany(i.PAREN_L,this.parseVariableDefinition,i.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:f.VARIABLE_DEFINITION,description:this.parseDescription(),variable:this.parseVariable(),type:(this.expectToken(i.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(i.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){let a=this._lexer.token;return this.expectToken(i.DOLLAR),this.node(a,{kind:f.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:f.SELECTION_SET,selections:this.many(i.BRACE_L,this.parseSelection,i.BRACE_R)})}parseSelection(){return this.peek(i.SPREAD)?this.parseFragment():this.parseField()}parseField(){let a,b,c=this._lexer.token,d=this.parseName();return this.expectOptionalToken(i.COLON)?(a=d,b=this.parseName()):b=d,this.node(c,{kind:f.FIELD,alias:a,name:b,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(i.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(a){let b=a?this.parseConstArgument:this.parseArgument;return this.optionalMany(i.PAREN_L,b,i.PAREN_R)}parseArgument(a=!1){let b=this._lexer.token,c=this.parseName();return this.expectToken(i.COLON),this.node(b,{kind:f.ARGUMENT,name:c,value:this.parseValueLiteral(a)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){let a=this._lexer.token;this.expectToken(i.SPREAD);let b=this.expectOptionalKeyword("on");return!b&&this.peek(i.NAME)?this.node(a,{kind:f.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(a,{kind:f.INLINE_FRAGMENT,typeCondition:b?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){let a=this._lexer.token,b=this.parseDescription();return(this.expectKeyword("fragment"),!0===this._options.allowLegacyFragmentVariables)?this.node(a,{kind:f.FRAGMENT_DEFINITION,description:b,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(a,{kind:f.FRAGMENT_DEFINITION,description:b,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(a){let b=this._lexer.token;switch(b.kind){case i.BRACKET_L:return this.parseList(a);case i.BRACE_L:return this.parseObject(a);case i.INT:return this.advanceLexer(),this.node(b,{kind:f.INT,value:b.value});case i.FLOAT:return this.advanceLexer(),this.node(b,{kind:f.FLOAT,value:b.value});case i.STRING:case i.BLOCK_STRING:return this.parseStringLiteral();case i.NAME:switch(this.advanceLexer(),b.value){case"true":return this.node(b,{kind:f.BOOLEAN,value:!0});case"false":return this.node(b,{kind:f.BOOLEAN,value:!1});case"null":return this.node(b,{kind:f.NULL});default:return this.node(b,{kind:f.ENUM,value:b.value})}case i.DOLLAR:if(a){if(this.expectToken(i.DOLLAR),this._lexer.token.kind===i.NAME){let a=this._lexer.token.value;throw I(this._lexer.source,b.start,`Unexpected variable "$${a}" in constant value.`)}throw this.unexpected(b)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){let a=this._lexer.token;return this.advanceLexer(),this.node(a,{kind:f.STRING,value:a.value,block:a.kind===i.BLOCK_STRING})}parseList(a){let b=()=>this.parseValueLiteral(a);return this.node(this._lexer.token,{kind:f.LIST,values:this.any(i.BRACKET_L,b,i.BRACKET_R)})}parseObject(a){let b=()=>this.parseObjectField(a);return this.node(this._lexer.token,{kind:f.OBJECT,fields:this.any(i.BRACE_L,b,i.BRACE_R)})}parseObjectField(a){let b=this._lexer.token,c=this.parseName();return this.expectToken(i.COLON),this.node(b,{kind:f.OBJECT_FIELD,name:c,value:this.parseValueLiteral(a)})}parseDirectives(a){let b=[];for(;this.peek(i.AT);)b.push(this.parseDirective(a));return b}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(a){let b=this._lexer.token;return this.expectToken(i.AT),this.node(b,{kind:f.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(a)})}parseTypeReference(){let a,b=this._lexer.token;if(this.expectOptionalToken(i.BRACKET_L)){let c=this.parseTypeReference();this.expectToken(i.BRACKET_R),a=this.node(b,{kind:f.LIST_TYPE,type:c})}else a=this.parseNamedType();return this.expectOptionalToken(i.BANG)?this.node(b,{kind:f.NON_NULL_TYPE,type:a}):a}parseNamedType(){return this.node(this._lexer.token,{kind:f.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(i.STRING)||this.peek(i.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){let a=this._lexer.token,b=this.parseDescription();this.expectKeyword("schema");let c=this.parseConstDirectives(),d=this.many(i.BRACE_L,this.parseOperationTypeDefinition,i.BRACE_R);return this.node(a,{kind:f.SCHEMA_DEFINITION,description:b,directives:c,operationTypes:d})}parseOperationTypeDefinition(){let a=this._lexer.token,b=this.parseOperationType();this.expectToken(i.COLON);let c=this.parseNamedType();return this.node(a,{kind:f.OPERATION_TYPE_DEFINITION,operation:b,type:c})}parseScalarTypeDefinition(){let a=this._lexer.token,b=this.parseDescription();this.expectKeyword("scalar");let c=this.parseName(),d=this.parseConstDirectives();return this.node(a,{kind:f.SCALAR_TYPE_DEFINITION,description:b,name:c,directives:d})}parseObjectTypeDefinition(){let a=this._lexer.token,b=this.parseDescription();this.expectKeyword("type");let c=this.parseName(),d=this.parseImplementsInterfaces(),e=this.parseConstDirectives(),g=this.parseFieldsDefinition();return this.node(a,{kind:f.OBJECT_TYPE_DEFINITION,description:b,name:c,interfaces:d,directives:e,fields:g})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(i.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(i.BRACE_L,this.parseFieldDefinition,i.BRACE_R)}parseFieldDefinition(){let a=this._lexer.token,b=this.parseDescription(),c=this.parseName(),d=this.parseArgumentDefs();this.expectToken(i.COLON);let e=this.parseTypeReference(),g=this.parseConstDirectives();return this.node(a,{kind:f.FIELD_DEFINITION,description:b,name:c,arguments:d,type:e,directives:g})}parseArgumentDefs(){return this.optionalMany(i.PAREN_L,this.parseInputValueDef,i.PAREN_R)}parseInputValueDef(){let a,b=this._lexer.token,c=this.parseDescription(),d=this.parseName();this.expectToken(i.COLON);let e=this.parseTypeReference();this.expectOptionalToken(i.EQUALS)&&(a=this.parseConstValueLiteral());let g=this.parseConstDirectives();return this.node(b,{kind:f.INPUT_VALUE_DEFINITION,description:c,name:d,type:e,defaultValue:a,directives:g})}parseInterfaceTypeDefinition(){let a=this._lexer.token,b=this.parseDescription();this.expectKeyword("interface");let c=this.parseName(),d=this.parseImplementsInterfaces(),e=this.parseConstDirectives(),g=this.parseFieldsDefinition();return this.node(a,{kind:f.INTERFACE_TYPE_DEFINITION,description:b,name:c,interfaces:d,directives:e,fields:g})}parseUnionTypeDefinition(){let a=this._lexer.token,b=this.parseDescription();this.expectKeyword("union");let c=this.parseName(),d=this.parseConstDirectives(),e=this.parseUnionMemberTypes();return this.node(a,{kind:f.UNION_TYPE_DEFINITION,description:b,name:c,directives:d,types:e})}parseUnionMemberTypes(){return this.expectOptionalToken(i.EQUALS)?this.delimitedMany(i.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){let a=this._lexer.token,b=this.parseDescription();this.expectKeyword("enum");let c=this.parseName(),d=this.parseConstDirectives(),e=this.parseEnumValuesDefinition();return this.node(a,{kind:f.ENUM_TYPE_DEFINITION,description:b,name:c,directives:d,values:e})}parseEnumValuesDefinition(){return this.optionalMany(i.BRACE_L,this.parseEnumValueDefinition,i.BRACE_R)}parseEnumValueDefinition(){let a=this._lexer.token,b=this.parseDescription(),c=this.parseEnumValueName(),d=this.parseConstDirectives();return this.node(a,{kind:f.ENUM_VALUE_DEFINITION,description:b,name:c,directives:d})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw I(this._lexer.source,this._lexer.token.start,`${af(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){let a=this._lexer.token,b=this.parseDescription();this.expectKeyword("input");let c=this.parseName(),d=this.parseConstDirectives(),e=this.parseInputFieldsDefinition();return this.node(a,{kind:f.INPUT_OBJECT_TYPE_DEFINITION,description:b,name:c,directives:d,fields:e})}parseInputFieldsDefinition(){return this.optionalMany(i.BRACE_L,this.parseInputValueDef,i.BRACE_R)}parseTypeSystemExtension(){let a=this._lexer.lookahead();if(a.kind===i.NAME)switch(a.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(a)}parseSchemaExtension(){let a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");let b=this.parseConstDirectives(),c=this.optionalMany(i.BRACE_L,this.parseOperationTypeDefinition,i.BRACE_R);if(0===b.length&&0===c.length)throw this.unexpected();return this.node(a,{kind:f.SCHEMA_EXTENSION,directives:b,operationTypes:c})}parseScalarTypeExtension(){let a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");let b=this.parseName(),c=this.parseConstDirectives();if(0===c.length)throw this.unexpected();return this.node(a,{kind:f.SCALAR_TYPE_EXTENSION,name:b,directives:c})}parseObjectTypeExtension(){let a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");let b=this.parseName(),c=this.parseImplementsInterfaces(),d=this.parseConstDirectives(),e=this.parseFieldsDefinition();if(0===c.length&&0===d.length&&0===e.length)throw this.unexpected();return this.node(a,{kind:f.OBJECT_TYPE_EXTENSION,name:b,interfaces:c,directives:d,fields:e})}parseInterfaceTypeExtension(){let a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");let b=this.parseName(),c=this.parseImplementsInterfaces(),d=this.parseConstDirectives(),e=this.parseFieldsDefinition();if(0===c.length&&0===d.length&&0===e.length)throw this.unexpected();return this.node(a,{kind:f.INTERFACE_TYPE_EXTENSION,name:b,interfaces:c,directives:d,fields:e})}parseUnionTypeExtension(){let a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");let b=this.parseName(),c=this.parseConstDirectives(),d=this.parseUnionMemberTypes();if(0===c.length&&0===d.length)throw this.unexpected();return this.node(a,{kind:f.UNION_TYPE_EXTENSION,name:b,directives:c,types:d})}parseEnumTypeExtension(){let a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");let b=this.parseName(),c=this.parseConstDirectives(),d=this.parseEnumValuesDefinition();if(0===c.length&&0===d.length)throw this.unexpected();return this.node(a,{kind:f.ENUM_TYPE_EXTENSION,name:b,directives:c,values:d})}parseInputObjectTypeExtension(){let a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");let b=this.parseName(),c=this.parseConstDirectives(),d=this.parseInputFieldsDefinition();if(0===c.length&&0===d.length)throw this.unexpected();return this.node(a,{kind:f.INPUT_OBJECT_TYPE_EXTENSION,name:b,directives:c,fields:d})}parseDirectiveDefinition(){let a=this._lexer.token,b=this.parseDescription();this.expectKeyword("directive"),this.expectToken(i.AT);let c=this.parseName(),d=this.parseArgumentDefs(),e=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");let g=this.parseDirectiveLocations();return this.node(a,{kind:f.DIRECTIVE_DEFINITION,description:b,name:c,arguments:d,repeatable:e,locations:g})}parseDirectiveLocations(){return this.delimitedMany(i.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){let a=this._lexer.token,b=this.parseName();if(Object.prototype.hasOwnProperty.call(h,b.value))return b;throw this.unexpected(a)}parseSchemaCoordinate(){let a,b,c=this._lexer.token,d=this.expectOptionalToken(i.AT),e=this.parseName();return(!d&&this.expectOptionalToken(i.DOT)&&(a=this.parseName()),(d||a)&&this.expectOptionalToken(i.PAREN_L)&&(b=this.parseName(),this.expectToken(i.COLON),this.expectToken(i.PAREN_R)),d)?b?this.node(c,{kind:f.DIRECTIVE_ARGUMENT_COORDINATE,name:e,argumentName:b}):this.node(c,{kind:f.DIRECTIVE_COORDINATE,name:e}):a?b?this.node(c,{kind:f.ARGUMENT_COORDINATE,name:e,fieldName:a,argumentName:b}):this.node(c,{kind:f.MEMBER_COORDINATE,name:e,memberName:a}):this.node(c,{kind:f.TYPE_COORDINATE,name:e})}node(a,b){return!0!==this._options.noLocation&&(b.loc=new J(a,this._lexer.lastToken,this._lexer.source)),b}peek(a){return this._lexer.token.kind===a}expectToken(a){let b=this._lexer.token;if(b.kind===a)return this.advanceLexer(),b;throw I(this._lexer.source,b.start,`Expected ${ag(a)}, found ${af(b)}.`)}expectOptionalToken(a){return this._lexer.token.kind===a&&(this.advanceLexer(),!0)}expectKeyword(a){let b=this._lexer.token;if(b.kind===i.NAME&&b.value===a)this.advanceLexer();else throw I(this._lexer.source,b.start,`Expected "${a}", found ${af(b)}.`)}expectOptionalKeyword(a){let b=this._lexer.token;return b.kind===i.NAME&&b.value===a&&(this.advanceLexer(),!0)}unexpected(a){let b=null!=a?a:this._lexer.token;return I(this._lexer.source,b.start,`Unexpected ${af(b)}.`)}any(a,b,c){this.expectToken(a);let d=[];for(;!this.expectOptionalToken(c);)d.push(b.call(this));return d}optionalMany(a,b,c){if(this.expectOptionalToken(a)){let a=[];do a.push(b.call(this));while(!this.expectOptionalToken(c))return a}return[]}many(a,b,c){this.expectToken(a);let d=[];do d.push(b.call(this));while(!this.expectOptionalToken(c))return d}delimitedMany(a,b){this.expectOptionalToken(a);let c=[];do c.push(b.call(this));while(this.expectOptionalToken(a))return c}advanceLexer(){let{maxTokens:a}=this._options,b=this._lexer.advance();if(b.kind!==i.EOF&&(++this._tokenCounter,void 0!==a&&this._tokenCounter>a))throw I(this._lexer.source,b.start,`Document contains more that ${a} tokens. Parsing aborted.`)}}function af(a){let b=a.value;return ag(a.kind)+(null!=b?` "${b}"`:"")}function ag(a){return a===i.BANG||a===i.DOLLAR||a===i.AMP||a===i.PAREN_L||a===i.PAREN_R||a===i.DOT||a===i.SPREAD||a===i.COLON||a===i.EQUALS||a===i.AT||a===i.BRACKET_L||a===i.BRACKET_R||a===i.BRACE_L||a===i.PIPE||a===i.BRACE_R?`"${a}"`:a}let ah=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function ai(a){return aj[a.charCodeAt(0)]}let aj=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],ak=Object.freeze({}),al={Name:{leave:a=>a.value},Variable:{leave:a=>"$"+a.name},Document:{leave:a=>am(a.definitions,"\n\n")},OperationDefinition:{leave(a){let b=aq(a.variableDefinitions)?ao("(\n",am(a.variableDefinitions,"\n"),"\n)"):ao("(",am(a.variableDefinitions,", "),")"),c=ao("",a.description,"\n")+am([a.operation,am([a.name,b]),am(a.directives," ")]," ");return("query"===c?"":c+" ")+a.selectionSet}},VariableDefinition:{leave:({variable:a,type:b,defaultValue:c,directives:d,description:e})=>ao("",e,"\n")+a+": "+b+ao(" = ",c)+ao(" ",am(d," "))},SelectionSet:{leave:({selections:a})=>an(a)},Field:{leave({alias:a,name:b,arguments:c,directives:d,selectionSet:e}){let f=ao("",a,": ")+b,g=f+ao("(",am(c,", "),")");return g.length>80&&(g=f+ao("(\n",ap(am(c,"\n")),"\n)")),am([g,am(d," "),e]," ")}},Argument:{leave:({name:a,value:b})=>a+": "+b},FragmentSpread:{leave:({name:a,directives:b})=>"..."+a+ao(" ",am(b," "))},InlineFragment:{leave:({typeCondition:a,directives:b,selectionSet:c})=>am(["...",ao("on ",a),am(b," "),c]," ")},FragmentDefinition:{leave:({name:a,typeCondition:b,variableDefinitions:c,directives:d,selectionSet:e,description:f})=>ao("",f,"\n")+`fragment ${a}${ao("(",am(c,", "),")")} `+`on ${b} ${ao("",am(d," ")," ")}`+e},IntValue:{leave:({value:a})=>a},FloatValue:{leave:({value:a})=>a},StringValue:{leave:({value:a,block:b})=>{let c,d,e,f,g,h,i,j,k,l,m;return b?(e=1===(d=(c=a.replace(/"""/g,'\\"""')).split(/\r\n|[\n\r]/g)).length,f=d.length>1&&d.slice(1).every(a=>0===a.length||O(a.charCodeAt(0))),g=c.endsWith('\\"""'),h=a.endsWith('"')&&!g,i=a.endsWith("\\"),j=h||i,k=!e||a.length>70||j||f||g,l="",m=e&&O(a.charCodeAt(0)),(k&&!m||f)&&(l+="\n"),l+=c,(k||j)&&(l+="\n"),'"""'+l+'"""'):`"${a.replace(ah,ai)}"`}},BooleanValue:{leave:({value:a})=>a?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:a})=>a},ListValue:{leave:({values:a})=>"["+am(a,", ")+"]"},ObjectValue:{leave:({fields:a})=>"{"+am(a,", ")+"}"},ObjectField:{leave:({name:a,value:b})=>a+": "+b},Directive:{leave:({name:a,arguments:b})=>"@"+a+ao("(",am(b,", "),")")},NamedType:{leave:({name:a})=>a},ListType:{leave:({type:a})=>"["+a+"]"},NonNullType:{leave:({type:a})=>a+"!"},SchemaDefinition:{leave:({description:a,directives:b,operationTypes:c})=>ao("",a,"\n")+am(["schema",am(b," "),an(c)]," ")},OperationTypeDefinition:{leave:({operation:a,type:b})=>a+": "+b},ScalarTypeDefinition:{leave:({description:a,name:b,directives:c})=>ao("",a,"\n")+am(["scalar",b,am(c," ")]," ")},ObjectTypeDefinition:{leave:({description:a,name:b,interfaces:c,directives:d,fields:e})=>ao("",a,"\n")+am(["type",b,ao("implements ",am(c," & ")),am(d," "),an(e)]," ")},FieldDefinition:{leave:({description:a,name:b,arguments:c,type:d,directives:e})=>ao("",a,"\n")+b+(aq(c)?ao("(\n",ap(am(c,"\n")),"\n)"):ao("(",am(c,", "),")"))+": "+d+ao(" ",am(e," "))},InputValueDefinition:{leave:({description:a,name:b,type:c,defaultValue:d,directives:e})=>ao("",a,"\n")+am([b+": "+c,ao("= ",d),am(e," ")]," ")},InterfaceTypeDefinition:{leave:({description:a,name:b,interfaces:c,directives:d,fields:e})=>ao("",a,"\n")+am(["interface",b,ao("implements ",am(c," & ")),am(d," "),an(e)]," ")},UnionTypeDefinition:{leave:({description:a,name:b,directives:c,types:d})=>ao("",a,"\n")+am(["union",b,am(c," "),ao("= ",am(d," | "))]," ")},EnumTypeDefinition:{leave:({description:a,name:b,directives:c,values:d})=>ao("",a,"\n")+am(["enum",b,am(c," "),an(d)]," ")},EnumValueDefinition:{leave:({description:a,name:b,directives:c})=>ao("",a,"\n")+am([b,am(c," ")]," ")},InputObjectTypeDefinition:{leave:({description:a,name:b,directives:c,fields:d})=>ao("",a,"\n")+am(["input",b,am(c," "),an(d)]," ")},DirectiveDefinition:{leave:({description:a,name:b,arguments:c,repeatable:d,locations:e})=>ao("",a,"\n")+"directive @"+b+(aq(c)?ao("(\n",ap(am(c,"\n")),"\n)"):ao("(",am(c,", "),")"))+(d?" repeatable":"")+" on "+am(e," | ")},SchemaExtension:{leave:({directives:a,operationTypes:b})=>am(["extend schema",am(a," "),an(b)]," ")},ScalarTypeExtension:{leave:({name:a,directives:b})=>am(["extend scalar",a,am(b," ")]," ")},ObjectTypeExtension:{leave:({name:a,interfaces:b,directives:c,fields:d})=>am(["extend type",a,ao("implements ",am(b," & ")),am(c," "),an(d)]," ")},InterfaceTypeExtension:{leave:({name:a,interfaces:b,directives:c,fields:d})=>am(["extend interface",a,ao("implements ",am(b," & ")),am(c," "),an(d)]," ")},UnionTypeExtension:{leave:({name:a,directives:b,types:c})=>am(["extend union",a,am(b," "),ao("= ",am(c," | "))]," ")},EnumTypeExtension:{leave:({name:a,directives:b,values:c})=>am(["extend enum",a,am(b," "),an(c)]," ")},InputObjectTypeExtension:{leave:({name:a,directives:b,fields:c})=>am(["extend input",a,am(b," "),an(c)]," ")},TypeCoordinate:{leave:({name:a})=>a},MemberCoordinate:{leave:({name:a,memberName:b})=>am([a,ao(".",b)])},ArgumentCoordinate:{leave:({name:a,fieldName:b,argumentName:c})=>am([a,ao(".",b),ao("(",c,":)")])},DirectiveCoordinate:{leave:({name:a})=>am(["@",a])},DirectiveArgumentCoordinate:{leave:({name:a,argumentName:b})=>am(["@",a,ao("(",b,":)")])}};function am(a,b=""){var c;return null!=(c=null==a?void 0:a.filter(a=>a).join(b))?c:""}function an(a){return ao("{\n",ap(am(a,"\n")),"\n}")}function ao(a,b,c=""){return null!=b&&""!==b?a+b+c:""}function ap(a){return ao("  ",a.replace(/\n/g,"\n  "))}function aq(a){var b;return null!=(b=null==a?void 0:a.some(a=>a.includes("\n")))&&b}let ar=(a,b)=>{let c,d,e,g,h,i="string"==typeof a||"kind"in a?a:String(a),j="string"==typeof i?i:function(a,b,c=L){let d,e,g,h=new Map;for(let a of Object.values(f))h.set(a,function(a,b){let c=a[b];return"object"==typeof c?c:"function"==typeof c?{enter:c,leave:void 0}:{enter:a.enter,leave:a.leave}}(b,a));let i=Array.isArray(a),j=[a],k=-1,l=[],m=a,n=[],o=[];do{var p,q,r;let a,f=++k===j.length,s=f&&0!==l.length;if(f){if(e=0===o.length?void 0:n[n.length-1],m=g,g=o.pop(),s)if(i){m=m.slice();let a=0;for(let[b,c]of l){let d=b-a;null===c?(m.splice(d,1),a++):m[d]=c}}else for(let[a,b]of(m={...m},l))m[a]=b;k=d.index,j=d.keys,l=d.edits,i=d.inArray,d=d.prev}else if(g){if(null==(m=g[e=i?k:j[k]]))continue;n.push(e)}if(!Array.isArray(m)){N(m)||aa(!1,`Invalid AST Node: ${ab(m,[])}.`);let c=f?null==(p=h.get(m.kind))?void 0:p.leave:null==(q=h.get(m.kind))?void 0:q.enter;if((a=null==c?void 0:c.call(b,m,e,g,n,o))===ak)break;if(!1===a){if(!f){n.pop();continue}}else if(void 0!==a&&(l.push([e,a]),!f))if(N(a))m=a;else{n.pop();continue}}void 0===a&&s&&l.push([e,m]),f?n.pop():(d={inArray:i,index:k,keys:j,edits:l,prev:d},j=(i=Array.isArray(m))?m:null!=(r=c[m.kind])?r:[],k=-1,l=[],g&&o.push(g),g=m)}while(void 0!==d)return 0!==l.length?l[l.length-1][1]:a}(i,al),k=!1;if(b)return{expression:j,isMutation:k,operationName:c};let l=(a=>{try{let b,c=a();if(b=c,"object"==typeof b&&null!==b&&"then"in b&&"function"==typeof b.then&&"catch"in b&&"function"==typeof b.catch&&"finally"in b&&"function"==typeof b.finally)return c.catch(a=>q(a));return c}catch(a){return q(a)}})(()=>{let a,b;return"string"==typeof i?(Object.defineProperty(b=(a=new ae(i,void 0)).parseDocument(),"tokenCount",{enumerable:!1,value:a.tokenCount}),b):i});return l instanceof Error?{expression:j,isMutation:k,operationName:c}:(1===(e=l.definitions.filter(B)).length&&(d=e[0].name?.value),c=d,g=!1,1===(h=l.definitions.filter(B)).length&&(g="mutation"===h[0].operation),{expression:j,operationName:c,isMutation:k=g})},as=JSON,at=async a=>{let b,c,d={...a,method:"Single"===a.request._tag?a.request.document.isMutation?"POST":(a.method??"post").toUpperCase():a.request.hasMutations?"POST":(a.method??"post").toUpperCase(),fetchOptions:{...a.fetchOptions,errorPolicy:a.fetchOptions.errorPolicy??"none"}},e=aw(d.method),f=await e(d),g=await f.text();try{b=av(g,f.headers.get(u),a.fetchOptions.jsonSerializer??as)}catch(a){b=a}let h={status:f.status,headers:f.headers,body:g};if(!f.ok)return b instanceof Error?new l({...h},{query:"Single"===a.request._tag?a.request.document.expression:a.request.query,variables:a.request.variables}):new l("Batch"===b._tag?{...b.executionResults,...h}:{...b.executionResult,...h},{query:"Single"===a.request._tag?a.request.document.expression:a.request.query,variables:a.request.variables});if(b instanceof Error)throw b;if(("Batch"===(c=b)._tag?c.executionResults.some(A):A(c.executionResult))&&"none"===d.fetchOptions.errorPolicy)return new l("Batch"===b._tag?{...b.executionResults,...h}:{...b.executionResult,...h},{query:"Single"===a.request._tag?a.request.document.expression:a.request.query,variables:a.request.variables});switch(b._tag){case"Single":return{...h,...au(d)(b.executionResult)};case"Batch":return{...h,data:b.executionResults.map(au(d))};default:r(b)}},au=a=>b=>({extensions:b.extensions,data:b.data,errors:"all"===a.fetchOptions.errorPolicy?b.errors:void 0}),av=(a,b,c)=>{let d;return b&&((d=b.toLowerCase()).includes(w)||d.includes(v))?y(c.parse(a)):y(a)},aw=a=>async b=>{let c,d=new Headers(b.headers),e=null;d.has(t)||d.set(t,[w,v].join(", ")),"POST"===a?"string"!=typeof(c=(b.fetchOptions.jsonSerializer??as).stringify(ax(b)))||d.has(u)||d.set(u,v):e=ay(b);let f={method:a,headers:d,body:c,...b.fetchOptions},g=new URL(b.url),h=f;if(b.middleware){let{url:a,...c}=await Promise.resolve(b.middleware({...f,url:b.url,operationName:"Single"===b.request._tag?b.request.document.operationName:void 0,variables:b.request.variables}));g=new URL(a),h=c}e&&e.forEach((a,b)=>{g.searchParams.append(b,a)});let i=b.fetch??fetch;return await i(g,h)},ax=a=>{switch(a.request._tag){case"Single":return{query:a.request.document.expression,variables:a.request.variables,operationName:a.request.document.operationName};case"Batch":return n(a.request.query,a.request.variables??[]).map(([a,b])=>({query:a,variables:b}));default:throw r(a.request)}},ay=a=>{let b=a.fetchOptions.jsonSerializer??as,c=new URLSearchParams;switch(a.request._tag){case"Single":return c.append("query",x(a.request.document.expression)),a.request.variables&&c.append("variables",b.stringify(a.request.variables)),a.request.document.operationName&&c.append("operationName",a.request.document.operationName),c;case"Batch":{let d=a.request.variables?.map(a=>b.stringify(a))??[],e=n(a.request.query.map(x),d).map(([a,b])=>({query:a,variables:b}));return c.append("query",b.stringify(e)),c}default:throw r(a.request)}},az=new class{url;requestConfig;constructor(a,b={}){this.url=a,this.requestConfig=b}rawRequest=async(...a)=>{let[b,c,d]=a,e=b.query?b:{query:b,variables:c,requestHeaders:d,signal:void 0},{headers:f,fetch:g=globalThis.fetch,method:h="POST",requestMiddleware:i,responseMiddleware:j,excludeOperationName:k,...l}=this.requestConfig,{url:n}=this;void 0!==e.signal&&(l.signal=e.signal);let p=ar(e.query,k),q=await at({url:n,request:{_tag:"Single",document:p,variables:e.variables},headers:{...o(m(f)),...o(e.requestHeaders)},fetch:g,method:h,fetchOptions:l,middleware:i});if(j&&await j(q,{operationName:p.operationName,variables:c,url:this.url}),q instanceof Error)throw q;return q};async request(a,...b){let c,d,e,[f,g]=b,h=(c=a,d=f,e=g,c.document?c:{document:c,variables:d,requestHeaders:e,signal:void 0}),{headers:i,fetch:j=globalThis.fetch,method:k="POST",requestMiddleware:l,responseMiddleware:n,excludeOperationName:p,...q}=this.requestConfig,{url:r}=this;void 0!==h.signal&&(q.signal=h.signal);let s=ar(h.document,p),t=await at({url:r,request:{_tag:"Single",document:s,variables:h.variables},headers:{...o(m(i)),...o(h.requestHeaders)},fetch:j,method:k,fetchOptions:q,middleware:l});if(n&&await n(t,{operationName:s.operationName,variables:h.variables,url:this.url}),t instanceof Error)throw t;return t.data}async batchRequests(a,b){let c=a.documents?a:{documents:a,requestHeaders:b,signal:void 0},{headers:d,excludeOperationName:e,...f}=this.requestConfig;void 0!==c.signal&&(f.signal=c.signal);let g=c.documents.map(({document:a})=>ar(a,e)),h=g.map(({expression:a})=>a),i=g.some(({isMutation:a})=>a),j=c.documents.map(({variables:a})=>a),k=await at({url:this.url,request:{_tag:"Batch",operationName:void 0,query:h,hasMutations:i,variables:j},headers:{...o(m(d)),...o(c.requestHeaders)},fetch:this.requestConfig.fetch??globalThis.fetch,method:this.requestConfig.method||"POST",fetchOptions:f,middleware:this.requestConfig.requestMiddleware});if(this.requestConfig.responseMiddleware&&await this.requestConfig.responseMiddleware(k,{operationName:void 0,variables:j,url:this.url}),k instanceof Error)throw k;return k.data}setHeaders(a){return this.requestConfig.headers=a,this}setHeader(a,b){let{headers:c}=this.requestConfig;return c?c[a]=b:this.requestConfig.headers={[a]:b},this}setEndpoint(a){return this.url=a,this}}("https://api-nu-seven-51.vercel.app/graphql"),aA=`
  mutation CreateApplication($input: CreateApplicationInput!) {
    createApplication(input: $input) {
      id
      name
      urlDocBase
      description
    }
  }
`,aB=`
  query GetApplications {
    applications {
      id
      name
      urlDocBase
      description
      status
      createdAt
    }
  }
`,aC=`
  mutation StartCrawl($input: StartCrawlInput!) {
    startCrawl(input: $input) {
      jobId
      status
      message
    }
  }
`,aD=`
  query GetCrawlJobs($appId: ID, $limit: Int) {
    crawlJobs(appId: $appId, limit: $limit) {
      id
      appId
      status
      startTime
      endTime
      pagesProcessed
      errors {
        id
        errorMessage
        url
      }
    }
  }
`;function aE(){let[a,b]=(0,k.useState)([]),[c,d]=(0,k.useState)([]),[e,f]=(0,k.useState)(!1),[g,h]=(0,k.useState)(!1),[i,l]=(0,k.useState)({name:"",urlDocBase:"",description:""}),[m,n]=(0,k.useState)("");(0,k.useEffect)(()=>{o(),p()},[]);let o=async()=>{try{let a=await az.request(aB);b(a.applications)}catch(a){console.error("Failed to load applications:",a)}},p=async()=>{try{let a=await az.request(aD,{limit:20});d(a.crawlJobs)}catch(a){console.error("Failed to load crawl jobs:",a)}},q=async a=>{a.preventDefault(),f(!0);try{await az.request(aA,{input:i}),l({name:"",urlDocBase:"",description:""}),h(!1),o()}catch(a){console.error("Failed to create application:",a),alert("Failed to create application")}finally{f(!1)}},r=async b=>{f(!0);try{let c=a.find(a=>a.id===b);if(!c)return;await az.request(aC,{input:{appId:b,url:c.urlDocBase,maxDepth:3,maxPages:100}}),alert("Crawl started successfully!"),setTimeout(p,2e3)}catch(a){console.error("Failed to start crawl:",a),alert("Failed to start crawl")}finally{f(!1)}};return(0,j.jsx)("div",{className:"container-fixed",children:(0,j.jsxs)("div",{className:"flex flex-col gap-5 lg:gap-7.5",children:[(0,j.jsxs)("div",{className:"flex flex-wrap items-center gap-5 justify-between",children:[(0,j.jsxs)("div",{className:"flex flex-col justify-center gap-2",children:[(0,j.jsx)("h1",{className:"text-xl font-semibold leading-none text-gray-900",children:"Crawler Management"}),(0,j.jsx)("div",{className:"flex items-center flex-wrap gap-1.5 font-medium",children:(0,j.jsx)("span",{className:"text-md text-gray-600",children:"Manage documentation sites and crawl jobs"})})]}),(0,j.jsx)("button",{onClick:()=>h(!g),className:"btn btn-sm btn-light",children:"+ New Application"})]}),g&&(0,j.jsxs)("div",{className:"card",children:[(0,j.jsx)("div",{className:"card-header",children:(0,j.jsx)("h3",{className:"card-title",children:"Add New Application"})}),(0,j.jsx)("div",{className:"card-body",children:(0,j.jsxs)("form",{onSubmit:q,className:"flex flex-col gap-5",children:[(0,j.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,j.jsx)("label",{className:"form-label",children:"Name"}),(0,j.jsx)("input",{type:"text",className:"input",value:i.name,onChange:a=>l({...i,name:a.target.value}),required:!0,placeholder:"e.g., ClientSync Docs"})]}),(0,j.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,j.jsx)("label",{className:"form-label",children:"Documentation URL"}),(0,j.jsx)("input",{type:"url",className:"input",value:i.urlDocBase,onChange:a=>l({...i,urlDocBase:a.target.value}),required:!0,placeholder:"https://docs.example.com"})]}),(0,j.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,j.jsx)("label",{className:"form-label",children:"Description"}),(0,j.jsx)("textarea",{className:"input",value:i.description,onChange:a=>l({...i,description:a.target.value}),placeholder:"Optional description",rows:3})]}),(0,j.jsxs)("div",{className:"flex gap-2.5",children:[(0,j.jsx)("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:e,children:e?"Creating...":"Create Application"}),(0,j.jsx)("button",{type:"button",onClick:()=>h(!1),className:"btn btn-sm btn-light",children:"Cancel"})]})]})})]}),(0,j.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5 lg:gap-7.5",children:a.map(a=>(0,j.jsxs)("div",{className:"card",children:[(0,j.jsx)("div",{className:"card-header",children:(0,j.jsx)("h3",{className:"card-title",children:a.name})}),(0,j.jsx)("div",{className:"card-body",children:(0,j.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{className:"text-sm text-gray-600",children:"URL:"}),(0,j.jsx)("a",{href:a.urlDocBase,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary ml-2",children:a.urlDocBase})]}),a.description&&(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{className:"text-sm text-gray-600",children:"Description:"}),(0,j.jsx)("p",{className:"text-sm ml-2",children:a.description})]}),(0,j.jsx)("button",{onClick:()=>r(a.id),className:"btn btn-sm btn-primary",disabled:e,children:"Start Crawl"})]})})]},a.id))}),(0,j.jsxs)("div",{className:"card",children:[(0,j.jsx)("div",{className:"card-header",children:(0,j.jsx)("h3",{className:"card-title",children:"Recent Crawl Jobs"})}),(0,j.jsx)("div",{className:"card-body",children:(0,j.jsxs)("div",{className:"table-responsive",children:[(0,j.jsxs)("table",{className:"table table-auto",children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{className:"min-w-[250px]",children:"Application"}),(0,j.jsx)("th",{className:"min-w-[150px]",children:"Status"}),(0,j.jsx)("th",{className:"min-w-[150px]",children:"Pages"}),(0,j.jsx)("th",{className:"min-w-[200px]",children:"Started"}),(0,j.jsx)("th",{className:"min-w-[150px]",children:"Duration"})]})}),(0,j.jsx)("tbody",{children:c.map(b=>{let c=a.find(a=>a.id===b.appId),d=b.endTime?Math.round((new Date(b.endTime).getTime()-new Date(b.startTime).getTime())/1e3):"-";return(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:c?.name||b.appId}),(0,j.jsx)("td",{children:(0,j.jsx)("span",{className:`badge badge-sm ${"completed"===b.status?"badge-success":"running"===b.status?"badge-primary":"failed"===b.status?"badge-danger":"badge-secondary"}`,children:b.status})}),(0,j.jsx)("td",{children:b.pagesProcessed||0}),(0,j.jsx)("td",{className:"text-sm",children:new Date(b.startTime).toLocaleString()}),(0,j.jsx)("td",{children:"number"==typeof d?`${d}s`:d})]},b.id)})})]}),0===c.length&&(0,j.jsx)("div",{className:"text-center py-10 text-gray-500",children:"No crawl jobs yet"})]})})]})]})})}a.s(["default",()=>aE],923144)}];

//# sourceMappingURL=app_%28default%29_crawler_page_tsx_d8c5a264._.js.map